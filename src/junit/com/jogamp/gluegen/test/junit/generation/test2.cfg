Package com.jogamp.gluegen.test.junit.generation
JavaClass BindingtestT2
Style InterfaceAndImpl
JavaOutputDir classes
NativeOutputDir native

# Use a ProcAddressTable so we dynamically look up the routines
EmitProcAddressTable true
ProcAddressTableClassName BindingtestT2ProcAddressTable
GetProcAddressTableExpr _table
ProcAddressNameExpr PFN $UPPERCASE({0}) PROC

# Force all of the methods to be emitted using dynamic linking so we
# don't need to link against any emulation library on the desktop or
# depend on the presence of an import library for a particular device
ForceProcAddressGen __ALL__

# Also force the calling conventions of the locally generated function
# pointer typedefs for these routines to MYAPIENTRY
# LocalProcAddressCallingConvention __ALL__ MYAPIENTRY

Opaque long T2_AllocateMemoryFunc
Opaque long T2_ReallocateMemoryFunc
Opaque long T2_ReleaseMemoryFunc

EmitStruct T2_ThreadAffinity
StructPackage T2_ThreadAffinity com.jogamp.gluegen.test.junit.generation

EmitStruct T2_InitializeOptions
StructPackage T2_InitializeOptions com.jogamp.gluegen.test.junit.generation
ReturnsStringOnly T2_InitializeOptions.ProductName
ReturnsStringOnly T2_InitializeOptions.ProductVersion

Opaque long T2_InitializeOptions.Reserved2
# ImmutableAccess long T2_InitializeOptions.Reserved

# ReturnedArrayLength T2_InitializeOptions.OverrideThreadAffinity 1
MaxOneElement T2_InitializeOptions.OverrideThreadAffinity

ReturnsOpaque long T2_InitializeOptions.AllocateMemoryFunction
ReturnsOpaque long T2_InitializeOptions.ReallocateMemoryFunc
ReturnsOpaque long T2_InitializeOptions.ReleaseMemoryFunc

CustomCCode #include "test2.h"

Import com.jogamp.gluegen.test.junit.generation.BindingtestT2
Import com.jogamp.gluegen.test.junit.generation.T2_InitializeOptions
Import com.jogamp.gluegen.test.junit.generation.T2_ThreadAffinity

CustomJavaCode BindingtestT2Impl  private static BindingtestT2ProcAddressTable _table = new BindingtestT2ProcAddressTable();
CustomJavaCode BindingtestT2Impl  public static void resetProcAddressTable(DynamicLookupHelper lookup) {
CustomJavaCode BindingtestT2Impl      _table.reset(lookup);
CustomJavaCode BindingtestT2Impl  }

